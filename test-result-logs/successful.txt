> Task :kaptGenerateStubsKotlin UP-TO-DATE
> Task :kaptKotlin UP-TO-DATE
> Task :compileKotlin UP-TO-DATE
> Task :compileJava NO-SOURCE
> Task :processResources UP-TO-DATE
> Task :classes UP-TO-DATE
> Task :kaptGenerateStubsRepositoryTestKotlin
> Task :kaptRepositoryTestKotlin UP-TO-DATE
> Task :compileRepositoryTestKotlin UP-TO-DATE
> Task :compileRepositoryTestJava NO-SOURCE
> Task :processRepositoryTestResources NO-SOURCE
> Task :repositoryTestClasses UP-TO-DATE
> Task :repositoryTest
20:50:09.160 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
20:50:09.178 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
20:50:09.193 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.sdnexample.friendgraph.repository.UserRepositoryTest] from class [org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper]
20:50:09.214 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.sdnexample.friendgraph.repository.UserRepositoryTest]: class path resource [com/sdnexample/friendgraph/repository/UserRepositoryTest-context.xml] does not exist
20:50:09.215 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.sdnexample.friendgraph.repository.UserRepositoryTest]: class path resource [com/sdnexample/friendgraph/repository/UserRepositoryTestContext.groovy] does not exist
20:50:09.215 [Test worker] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.sdnexample.friendgraph.repository.UserRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.
20:50:09.216 [Test worker] DEBUG org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Ignoring class [com.sdnexample.friendgraph.repository.UserRepositoryTest$Companion]; it must be static, non-private, non-final, and annotated with @Configuration to be considered a default configuration class.
20:50:09.216 [Test worker] DEBUG org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Ignoring class [com.sdnexample.friendgraph.repository.UserRepositoryTest$FriendGraphTestNeo4jContainer]; it must be static, non-private, non-final, and annotated with @Configuration to be considered a default configuration class.
20:50:09.217 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.sdnexample.friendgraph.repository.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
20:50:09.297 [Test worker] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.sdnexample.friendgraph.repository.UserRepositoryTest]
20:50:09.380 [Test worker] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [FriendGraphApplication.class]
20:50:09.383 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.sdnexample.friendgraph.FriendGraphApplication for test class com.sdnexample.friendgraph.repository.UserRepositoryTest
20:50:09.387 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper - @TestExecutionListeners is not present for class [com.sdnexample.friendgraph.repository.UserRepositoryTest]: using defaults.
20:50:09.388 [Test worker] INFO org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
20:50:09.400 [Test worker] DEBUG org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
20:50:09.414 [Test worker] INFO org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@29e6b7a2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7db11ee7, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5a86696c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@687662b6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@74b183bd, org.springframework.test.context.transaction.TransactionalTestExecutionListener@182edea, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@682629bf, org.springframework.test.context.event.EventPublishingTestExecutionListener@331e95df, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4b4a546a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5db11d54, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@483bc8c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@43f471ae, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5a8494be, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@f8a6907]
20:50:09.451 [Test worker] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper=true}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.2)

2021-03-13 20:50:10.501  INFO 18212 --- [    Test worker] o.t.d.DockerClientProviderStrategy       : Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2021-03-13 20:50:11.198  INFO 18212 --- [    Test worker] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2021-03-13 20:50:11.200  INFO 18212 --- [    Test worker] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost
2021-03-13 20:50:11.249  INFO 18212 --- [    Test worker] org.testcontainers.DockerClientFactory   : Connected to docker:
  Server Version: 20.10.5
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3934 MB
2021-03-13 20:50:11.254  INFO 18212 --- [    Test worker] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2021-03-13 20:50:11.557  INFO 18212 --- [    Test worker] o.t.utility.RegistryAuthLocator          : Credential helper/store (docker-credential-desktop) does not have credentials for index.docker.io
2021-03-13 20:50:12.147  INFO 18212 --- [    Test worker] org.testcontainers.DockerClientFactory   : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2021-03-13 20:50:12.147  INFO 18212 --- [    Test worker] org.testcontainers.DockerClientFactory   : Checking the system...
2021-03-13 20:50:12.148  INFO 18212 --- [    Test worker] org.testcontainers.DockerClientFactory   : âœ”ï¸Ž Docker server version should be at least 1.6.0
2021-03-13 20:50:12.244  INFO 18212 --- [    Test worker] org.testcontainers.DockerClientFactory   : âœ”ï¸Ž Docker environment should have more than 2GB free disk space
2021-03-13 20:50:12.330  INFO 18212 --- [    Test worker] docker[neo4j:4.2.1]                      : Creating container for image: neo4j:4.2.1
2021-03-13 20:50:12.389  INFO 18212 --- [    Test worker] docker[neo4j:4.2.1]                      : Starting container with ID: c35b921439f619bc0251c1dfed1c32eb75b2f9e6c4bdfbc052735bed74fc9b59
2021-03-13 20:50:12.735  INFO 18212 --- [    Test worker] docker[neo4j:4.2.1]                      : Container neo4j:4.2.1 is starting: c35b921439f619bc0251c1dfed1c32eb75b2f9e6c4bdfbc052735bed74fc9b59
2021-03-13 20:50:19.583  INFO 18212 --- [     ducttape-0] o.t.c.wait.strategy.HttpWaitStrategy     : /sharp_swartz: Waiting for 120 seconds for URL: http://localhost:49319/
2021-03-13 20:50:21.756  INFO 18212 --- [    Test worker] docker[neo4j:4.2.1]                      : Container neo4j:4.2.1 started in PT9.5113941S
2021-03-13 20:50:21.762  INFO 18212 --- [    Test worker] c.s.f.repository.UserRepositoryTest      : Starting UserRepositoryTest using Java 11.0.8 on DESKTOP with PID 18212
2021-03-13 20:50:21.763  INFO 18212 --- [    Test worker] c.s.f.repository.UserRepositoryTest      : No active profile set, falling back to default profiles: default
2021-03-13 20:50:22.119  INFO 18212 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2021-03-13 20:50:22.198  INFO 18212 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 1 Neo4j repository interfaces.
2021-03-13 20:50:22.716  INFO 18212 --- [    Test worker] org.neo4j.driver.Driver                  : Direct driver instance 2100714524 created for server address localhost:49318
2021-03-13 20:50:23.590  INFO 18212 --- [    Test worker] c.s.f.repository.UserRepositoryTest      : Started UserRepositoryTest in 13.725 seconds (JVM running for 15.678)
2021-03-13 20:50:24.202  INFO 18212 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@44cdbe3e testClass = UserRepositoryTest, testInstance = com.sdnexample.friendgraph.repository.UserRepositoryTest@54eb9fcd, testMethod = Assert that the testcontainer is running@UserRepositoryTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6bb6d937 testClass = UserRepositoryTest, locations = '{}', classes = '{class com.sdnexample.friendgraph.FriendGraphApplication}', contextInitializerClasses = '[class com.sdnexample.friendgraph.repository.UserRepositoryTest$Companion$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@6f8f682, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@398b0428, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@a21ac740, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@42d0e9aa, [ImportsContextCustomizer@3d27c45c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.neo4j.Neo4jAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4c806cd7, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@192c41ca, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.data.neo4j.core.transaction.Neo4jTransactionManager@14b2b188]; rollback [false]
2021-03-13 20:50:24.417  INFO 18212 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Committed transaction for test: [DefaultTestContext@44cdbe3e testClass = UserRepositoryTest, testInstance = com.sdnexample.friendgraph.repository.UserRepositoryTest@54eb9fcd, testMethod = Assert that the testcontainer is running@UserRepositoryTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6bb6d937 testClass = UserRepositoryTest, locations = '{}', classes = '{class com.sdnexample.friendgraph.FriendGraphApplication}', contextInitializerClasses = '[class com.sdnexample.friendgraph.repository.UserRepositoryTest$Companion$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@6f8f682, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@398b0428, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@a21ac740, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@42d0e9aa, [ImportsContextCustomizer@3d27c45c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.neo4j.Neo4jAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4c806cd7, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@192c41ca, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2021-03-13 20:50:24.443  INFO 18212 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@44cdbe3e testClass = UserRepositoryTest, testInstance = com.sdnexample.friendgraph.repository.UserRepositoryTest@54eb9fcd, testMethod = Save three users@UserRepositoryTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6bb6d937 testClass = UserRepositoryTest, locations = '{}', classes = '{class com.sdnexample.friendgraph.FriendGraphApplication}', contextInitializerClasses = '[class com.sdnexample.friendgraph.repository.UserRepositoryTest$Companion$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@6f8f682, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@398b0428, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@a21ac740, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@42d0e9aa, [ImportsContextCustomizer@3d27c45c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.neo4j.Neo4jAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4c806cd7, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@192c41ca, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.data.neo4j.core.transaction.Neo4jTransactionManager@14b2b188]; rollback [false]
2021-03-13 20:50:24.568 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
UNWIND $__entities__ AS entity MERGE (n:`User` {userId: entity.__id__}) SET n += entity.__properties__ RETURN collect(n.userId) AS __ids__
2021-03-13 20:50:24.570 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {__entities__: [{__id__: "6d80e365-488b-4327-9c7c-38284ec52fc6", __properties__: {firstName: "Bilbo", lastName: "Baggins", userId: "6d80e365-488b-4327-9c7c-38284ec52fc6", email: "bilbo.baggins@test.com"}}, {__id__: "9a9f6018-ccca-4f8f-bcd3-31988647f3d8", __properties__: {firstName: "Frodo", lastName: "Baggins", userId: "9a9f6018-ccca-4f8f-bcd3-31988647f3d8", email: "frodo.baggins@test.com"}}, {__id__: "5db6f5c4-1528-4e36-91a3-b13d003cfc69", __properties__: {firstName: "Samwise", lastName: "Gamgee", userId: "5db6f5c4-1528-4e36-91a3-b13d003cfc69", email: "samwise.gamgee@test.com"}}]}
2021-03-13 20:50:26.220  INFO 18212 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Committed transaction for test: [DefaultTestContext@44cdbe3e testClass = UserRepositoryTest, testInstance = com.sdnexample.friendgraph.repository.UserRepositoryTest@54eb9fcd, testMethod = Save three users@UserRepositoryTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6bb6d937 testClass = UserRepositoryTest, locations = '{}', classes = '{class com.sdnexample.friendgraph.FriendGraphApplication}', contextInitializerClasses = '[class com.sdnexample.friendgraph.repository.UserRepositoryTest$Companion$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@6f8f682, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@398b0428, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@a21ac740, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@42d0e9aa, [ImportsContextCustomizer@3d27c45c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.neo4j.Neo4jAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4c806cd7, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@192c41ca, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2021-03-13 20:50:26.228  INFO 18212 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@44cdbe3e testClass = UserRepositoryTest, testInstance = com.sdnexample.friendgraph.repository.UserRepositoryTest@54eb9fcd, testMethod = Should save a FriendRequest from Frodo to Sam@UserRepositoryTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6bb6d937 testClass = UserRepositoryTest, locations = '{}', classes = '{class com.sdnexample.friendgraph.FriendGraphApplication}', contextInitializerClasses = '[class com.sdnexample.friendgraph.repository.UserRepositoryTest$Companion$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@6f8f682, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@398b0428, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@a21ac740, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@42d0e9aa, [ImportsContextCustomizer@3d27c45c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.neo4j.Neo4jAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4c806cd7, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@192c41ca, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.data.neo4j.core.transaction.Neo4jTransactionManager@14b2b188]; rollback [false]
2021-03-13 20:50:26.247 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (user:User{email: $email}) OPTIONAL MATCH path=(user)-[:FRIEND_REQUEST*1]-(friend:User) WITH user, friend, relationships(path) as friend_request_relationships UNWIND CASE WHEN friend_request_relationships is null THEN [null] ELSE friend_request_relationships END AS friend_requests RETURN user, collect(friend_requests), collect(distinct(friend))
2021-03-13 20:50:26.247 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {0: "frodo.baggins@test.com", email: "frodo.baggins@test.com"}
2021-03-13 20:50:26.660 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (user:User{email: $email}) OPTIONAL MATCH path=(user)-[:FRIEND_REQUEST*1]-(friend:User) WITH user, friend, relationships(path) as friend_request_relationships UNWIND CASE WHEN friend_request_relationships is null THEN [null] ELSE friend_request_relationships END AS friend_requests RETURN user, collect(friend_requests), collect(distinct(friend))
2021-03-13 20:50:26.661 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {0: "samwise.gamgee@test.com", email: "samwise.gamgee@test.com"}
2021-03-13 20:50:26.676 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MERGE (n:`User` {userId: $__id__}) SET n += $__properties__ RETURN id(n)
2021-03-13 20:50:26.677 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {__id__: "9a9f6018-ccca-4f8f-bcd3-31988647f3d8", __properties__: {firstName: "Frodo", lastName: "Baggins", userId: "9a9f6018-ccca-4f8f-bcd3-31988647f3d8", email: "frodo.baggins@test.com"}}
2021-03-13 20:50:26.760 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (startNode:`User`)<-[rel:`FRIEND_REQUEST`]-(:`User`) WHERE (startNode.userId = $fromId AND NOT (id(rel) IN $__knownRelationShipIds__)) DELETE rel
2021-03-13 20:50:26.760 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {__knownRelationShipIds__: [], fromId: "9a9f6018-ccca-4f8f-bcd3-31988647f3d8"}
2021-03-13 20:50:26.865 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MERGE (n:`User` {userId: $__id__}) SET n += $__properties__ RETURN id(n)
2021-03-13 20:50:26.865 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {__id__: "5db6f5c4-1528-4e36-91a3-b13d003cfc69", __properties__: {firstName: "Samwise", lastName: "Gamgee", userId: "5db6f5c4-1528-4e36-91a3-b13d003cfc69", email: "samwise.gamgee@test.com"}}
2021-03-13 20:50:26.876 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (startNode:`User`)<-[rel:`FRIEND_REQUEST`]-(:`User`) WHERE (startNode.userId = $fromId AND NOT (id(rel) IN $__knownRelationShipIds__)) DELETE rel
2021-03-13 20:50:26.876 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {__knownRelationShipIds__: [], fromId: "5db6f5c4-1528-4e36-91a3-b13d003cfc69"}
2021-03-13 20:50:26.886 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MERGE (n:`User` {userId: $__id__}) SET n += $__properties__ RETURN id(n)
2021-03-13 20:50:26.886 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {__id__: "9a9f6018-ccca-4f8f-bcd3-31988647f3d8", __properties__: {firstName: "Frodo", lastName: "Baggins", userId: "9a9f6018-ccca-4f8f-bcd3-31988647f3d8", email: "frodo.baggins@test.com"}}
2021-03-13 20:50:26.897 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (startNode:`User`) WHERE startNode.userId = $fromId MATCH (endNode) WHERE id(endNode) = $toId MERGE (startNode)<-[relProps:`FRIEND_REQUEST`]-(endNode) SET relProps += $__properties__ RETURN id(relProps)
2021-03-13 20:50:26.897 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {toId: 1, __id__: NULL, fromId: "5db6f5c4-1528-4e36-91a3-b13d003cfc69", __properties__: {}}
2021-03-13 20:50:27.081 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (startNode:`User`)<-[rel:`FRIEND_REQUEST`]-(:`User`) WHERE (startNode.userId = $fromId AND NOT (id(rel) IN $__knownRelationShipIds__)) DELETE rel
2021-03-13 20:50:27.081 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {__knownRelationShipIds__: [], fromId: "9a9f6018-ccca-4f8f-bcd3-31988647f3d8"}
2021-03-13 20:50:27.097 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (startNode:`User`)-[rel:`FRIEND_REQUEST`]->(:`User`) WHERE (startNode.userId = $fromId AND NOT (id(rel) IN $__knownRelationShipIds__)) DELETE rel
2021-03-13 20:50:27.098 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {__knownRelationShipIds__: [], fromId: "5db6f5c4-1528-4e36-91a3-b13d003cfc69"}
2021-03-13 20:50:27.192  INFO 18212 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Committed transaction for test: [DefaultTestContext@44cdbe3e testClass = UserRepositoryTest, testInstance = com.sdnexample.friendgraph.repository.UserRepositoryTest@54eb9fcd, testMethod = Should save a FriendRequest from Frodo to Sam@UserRepositoryTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6bb6d937 testClass = UserRepositoryTest, locations = '{}', classes = '{class com.sdnexample.friendgraph.FriendGraphApplication}', contextInitializerClasses = '[class com.sdnexample.friendgraph.repository.UserRepositoryTest$Companion$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@6f8f682, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@398b0428, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@a21ac740, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@42d0e9aa, [ImportsContextCustomizer@3d27c45c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.neo4j.Neo4jAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4c806cd7, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@192c41ca, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2021-03-13 20:50:27.201  INFO 18212 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@44cdbe3e testClass = UserRepositoryTest, testInstance = com.sdnexample.friendgraph.repository.UserRepositoryTest@54eb9fcd, testMethod = Should save a FriendRequest from Frodo to Bilbo@UserRepositoryTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6bb6d937 testClass = UserRepositoryTest, locations = '{}', classes = '{class com.sdnexample.friendgraph.FriendGraphApplication}', contextInitializerClasses = '[class com.sdnexample.friendgraph.repository.UserRepositoryTest$Companion$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@6f8f682, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@398b0428, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@a21ac740, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@42d0e9aa, [ImportsContextCustomizer@3d27c45c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.neo4j.Neo4jAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4c806cd7, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@192c41ca, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.data.neo4j.core.transaction.Neo4jTransactionManager@14b2b188]; rollback [false]
2021-03-13 20:50:27.203 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (user:User{email: $email}) OPTIONAL MATCH path=(user)-[:FRIEND_REQUEST*1]-(friend:User) WITH user, friend, relationships(path) as friend_request_relationships UNWIND CASE WHEN friend_request_relationships is null THEN [null] ELSE friend_request_relationships END AS friend_requests RETURN user, collect(friend_requests), collect(distinct(friend))
2021-03-13 20:50:27.203 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {0: "frodo.baggins@test.com", email: "frodo.baggins@test.com"}
2021-03-13 20:50:27.287 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (user:User{email: $email}) OPTIONAL MATCH path=(user)-[:FRIEND_REQUEST*1]-(friend:User) WITH user, friend, relationships(path) as friend_request_relationships UNWIND CASE WHEN friend_request_relationships is null THEN [null] ELSE friend_request_relationships END AS friend_requests RETURN user, collect(friend_requests), collect(distinct(friend))
2021-03-13 20:50:27.288 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {0: "bilbo.baggins@test.com", email: "bilbo.baggins@test.com"}
2021-03-13 20:50:27.299 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MERGE (n:`User` {userId: $__id__}) SET n += $__properties__ RETURN id(n)
2021-03-13 20:50:27.300 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {__id__: "9a9f6018-ccca-4f8f-bcd3-31988647f3d8", __properties__: {firstName: "Frodo", lastName: "Baggins", userId: "9a9f6018-ccca-4f8f-bcd3-31988647f3d8", email: "frodo.baggins@test.com"}}
2021-03-13 20:50:27.309 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (startNode:`User`)<-[rel:`FRIEND_REQUEST`]-(:`User`) WHERE (startNode.userId = $fromId AND NOT (id(rel) IN $__knownRelationShipIds__)) DELETE rel
2021-03-13 20:50:27.310 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {__knownRelationShipIds__: [], fromId: "9a9f6018-ccca-4f8f-bcd3-31988647f3d8"}
2021-03-13 20:50:27.319 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MERGE (n:`User` {userId: $__id__}) SET n += $__properties__ RETURN id(n)
2021-03-13 20:50:27.320 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {__id__: "6d80e365-488b-4327-9c7c-38284ec52fc6", __properties__: {firstName: "Bilbo", lastName: "Baggins", userId: "6d80e365-488b-4327-9c7c-38284ec52fc6", email: "bilbo.baggins@test.com"}}
2021-03-13 20:50:27.331 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (startNode:`User`)<-[rel:`FRIEND_REQUEST`]-(:`User`) WHERE (startNode.userId = $fromId AND NOT (id(rel) IN $__knownRelationShipIds__)) DELETE rel
2021-03-13 20:50:27.332 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {__knownRelationShipIds__: [], fromId: "6d80e365-488b-4327-9c7c-38284ec52fc6"}
2021-03-13 20:50:27.340 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MERGE (n:`User` {userId: $__id__}) SET n += $__properties__ RETURN id(n)
2021-03-13 20:50:27.340 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {__id__: "9a9f6018-ccca-4f8f-bcd3-31988647f3d8", __properties__: {firstName: "Frodo", lastName: "Baggins", userId: "9a9f6018-ccca-4f8f-bcd3-31988647f3d8", email: "frodo.baggins@test.com"}}
2021-03-13 20:50:27.349 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (startNode:`User`) WHERE startNode.userId = $fromId MATCH (endNode) WHERE id(endNode) = $toId MERGE (startNode)<-[relProps:`FRIEND_REQUEST`]-(endNode) SET relProps += $__properties__ RETURN id(relProps)
2021-03-13 20:50:27.350 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {toId: 1, __id__: NULL, fromId: "6d80e365-488b-4327-9c7c-38284ec52fc6", __properties__: {}}
2021-03-13 20:50:27.359 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (startNode:`User`)<-[rel:`FRIEND_REQUEST`]-(:`User`) WHERE (startNode.userId = $fromId AND NOT (id(rel) IN $__knownRelationShipIds__)) DELETE rel
2021-03-13 20:50:27.359 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {__knownRelationShipIds__: [], fromId: "9a9f6018-ccca-4f8f-bcd3-31988647f3d8"}
2021-03-13 20:50:27.367 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (startNode:`User`)-[rel:`FRIEND_REQUEST`]->(:`User`) WHERE (startNode.userId = $fromId AND NOT (id(rel) IN $__knownRelationShipIds__)) DELETE rel
2021-03-13 20:50:27.368 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {__knownRelationShipIds__: [], fromId: "6d80e365-488b-4327-9c7c-38284ec52fc6"}
2021-03-13 20:50:27.390  INFO 18212 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Committed transaction for test: [DefaultTestContext@44cdbe3e testClass = UserRepositoryTest, testInstance = com.sdnexample.friendgraph.repository.UserRepositoryTest@54eb9fcd, testMethod = Should save a FriendRequest from Frodo to Bilbo@UserRepositoryTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6bb6d937 testClass = UserRepositoryTest, locations = '{}', classes = '{class com.sdnexample.friendgraph.FriendGraphApplication}', contextInitializerClasses = '[class com.sdnexample.friendgraph.repository.UserRepositoryTest$Companion$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@6f8f682, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@398b0428, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@a21ac740, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@42d0e9aa, [ImportsContextCustomizer@3d27c45c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.neo4j.Neo4jAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4c806cd7, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@192c41ca, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2021-03-13 20:50:27.397  INFO 18212 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@44cdbe3e testClass = UserRepositoryTest, testInstance = com.sdnexample.friendgraph.repository.UserRepositoryTest@54eb9fcd, testMethod = Expecting all users to have all their sent and received friend requests@UserRepositoryTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6bb6d937 testClass = UserRepositoryTest, locations = '{}', classes = '{class com.sdnexample.friendgraph.FriendGraphApplication}', contextInitializerClasses = '[class com.sdnexample.friendgraph.repository.UserRepositoryTest$Companion$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@6f8f682, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@398b0428, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@a21ac740, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@42d0e9aa, [ImportsContextCustomizer@3d27c45c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.neo4j.Neo4jAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4c806cd7, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@192c41ca, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.data.neo4j.core.transaction.Neo4jTransactionManager@14b2b188]; rollback [false]
2021-03-13 20:50:27.399 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (user:User{email: $email}) OPTIONAL MATCH path=(user)-[:FRIEND_REQUEST*1]-(friend:User) WITH user, friend, relationships(path) as friend_request_relationships UNWIND CASE WHEN friend_request_relationships is null THEN [null] ELSE friend_request_relationships END AS friend_requests RETURN user, collect(friend_requests), collect(distinct(friend))
2021-03-13 20:50:27.399 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {0: "frodo.baggins@test.com", email: "frodo.baggins@test.com"}
2021-03-13 20:50:27.411 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (user:User{email: $email}) OPTIONAL MATCH path=(user)-[:FRIEND_REQUEST*1]-(friend:User) WITH user, friend, relationships(path) as friend_request_relationships UNWIND CASE WHEN friend_request_relationships is null THEN [null] ELSE friend_request_relationships END AS friend_requests RETURN user, collect(friend_requests), collect(distinct(friend))
2021-03-13 20:50:27.411 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {0: "samwise.gamgee@test.com", email: "samwise.gamgee@test.com"}
2021-03-13 20:50:27.422 DEBUG 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : Executing:
MATCH (user:User{email: $email}) OPTIONAL MATCH path=(user)-[:FRIEND_REQUEST*1]-(friend:User) WITH user, friend, relationships(path) as friend_request_relationships UNWIND CASE WHEN friend_request_relationships is null THEN [null] ELSE friend_request_relationships END AS friend_requests RETURN user, collect(friend_requests), collect(distinct(friend))
2021-03-13 20:50:27.422 TRACE 18212 --- [    Test worker] org.springframework.data.neo4j.cypher    : with parameters:
:params {0: "bilbo.baggins@test.com", email: "bilbo.baggins@test.com"}
2021-03-13 20:50:27.457  INFO 18212 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Committed transaction for test: [DefaultTestContext@44cdbe3e testClass = UserRepositoryTest, testInstance = com.sdnexample.friendgraph.repository.UserRepositoryTest@54eb9fcd, testMethod = Expecting all users to have all their sent and received friend requests@UserRepositoryTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6bb6d937 testClass = UserRepositoryTest, locations = '{}', classes = '{class com.sdnexample.friendgraph.FriendGraphApplication}', contextInitializerClasses = '[class com.sdnexample.friendgraph.repository.UserRepositoryTest$Companion$Initializer]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@6f8f682, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@398b0428, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@a21ac740, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@42d0e9aa, [ImportsContextCustomizer@3d27c45c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.neo4j.Neo4jAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveDataAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jReactiveRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4c806cd7, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@192c41ca, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2021-03-13 20:50:27.468  INFO 18212 --- [extShutdownHook] org.neo4j.driver.Driver                  : Closing driver instance 2100714524
2021-03-13 20:50:27.472  INFO 18212 --- [extShutdownHook] org.neo4j.driver.ConnectionPool          : Closing connection pool towards localhost:49318

Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.
Use '--warning-mode all' to show the individual deprecation warnings.
See https://docs.gradle.org/6.8/userguide/command_line_interface.html#sec:command_line_warnings
BUILD SUCCESSFUL in 21s
8 actionable tasks: 2 executed, 6 up-to-date
8:50:28 PM: Task execution finished ':repositoryTest --tests "com.sdnexample.friendgraph.repository.UserRepositoryTest"'.
